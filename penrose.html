<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="shortcut icon" href="deca.png" />
        <title>Penrose Mosaic</title>
        <link rel="stylesheet" href="math.css" />
        <style></style>
        <script type="module">
            import { penroseApp } from "./math.js";
            window.addEventListener("load", () => penroseApp(), false);
        </script>
    </head>

    <body>
        <header>
            <h1>Penrose Mosaic</h1>
            <h2>
                A square tiling based on
                <a href="https://web.ma.utexas.edu/users/radin/Pentaplexity.pdf"
                    >Penrose's first non-periodic tiling</a
                >
            </h2>
        </header>

        <p>
            I found the mosaic pattern while working with graph paper. I found
            you could produce a very convincing version of this tiling with the
            segments: [4,0],[3,2] and [1,4]. The gave a sufficient approximation
            of 4 * [cos n, sin n] where n = 0, 36 and 72
        </p>
        <span>The tiles of the type one set are pentagons (p5:</span>
        <canvas id="p5" class="flowtile"> </canvas>
        <span>, p3: </span>
        <canvas id="p3" class="flowtile"></canvas>
        <span>, p1:</span>
        <canvas id="p1" class="flowtile"></canvas>
        <span>), stars:</span>
        <canvas id="s5" class="flowtile"></canvas>
        <span>, boats: </span>
        <canvas id="s3" class="flowtile"></canvas>
        <span>and diamonds: </span>
        <canvas id="s1" class="flowtile"></canvas>

        <nav id="across">
            <p>
                <button class="pageButton">Measurements</button>
                <button class="pageButton">Inflation 1 work area</button>
                <button class="pageButton">Inflation 2 work area</button>
                <button class="pageButton">Grid-work test area</button>
                <button class="pageButton">Generic test area</button>
                <button class="pageButton">Generic expansion</button>
            </p>
            <script type="module">
                /**
                 * This was a real pain
                 * Line up the clickers
                 **/
                import { pageClicked } from "./math.js";
                import { clickMode } from "./math.js";

                const ids = ["rwork", "inf1", "inf2", "gwork", "g012", "g3"];
                const eles = document.querySelectorAll(".pageButton");
                for (const ele of eles) {
                    const page = ids.shift();
                    const funct = () => pageClicked(page, ele);
                    ele.addEventListener("click", funct, false);
                }
                document
                    .querySelector("#shape-mode")
                    .addEventListener("click", () => clickMode(), false);
            </script>
        </nav>
        <div id="meat">
            <div id="controls">
                <h3>Controls</h3>
                <div class="control-group">
                    <h4>Shape type</h4>
                    <button id="type">Type</button>
                    <h4>Orientation</h4>
                    <button id="fifths">Fifths</button>
                    <button id="isDown">isDown</button>
                </div>
                <div class="control-group">
                    <h4>Shape mode</h4>
                    <button id="shape-mode" onClick="clickMode()"></button>
                </div>
                <div class="control-group">
                    <h4 id="color-reset">Colors</h4>
                    <label for="p5-color">Pe5:</label>
                    <input
                        type="color"
                        id="p5-color"
                        value="#0000ff"
                        class="shape-color"
                        style="border: '50%;height:100px'"
                    /><br />
                    <label for="p3-color">Pe3:</label>
                    <input
                        type="color"
                        id="p3-color"
                        value="#e46c0a"
                        class="shape-color"
                    /><br />
                    <label for="p1-color">Pe1:</label>
                    <input
                        type="color"
                        id="p1-color"
                        value="#ffff00"
                        class="shape-color"
                    /><br />
                    <label for="star-color">Star:</label>
                    <input
                        type="color"
                        id="star-color"
                        value="#0000ff"
                        class="shape-color"
                    /><br />
                    <label for="boat-color">Boat:</label>
                    <input
                        type="color"
                        id="boat-color"
                        value="#0000ff"
                        class="shape-color"
                    /><br />
                    <label for="diamond-color">Diamond:</label>
                    <input
                        type="color"
                        id="diamond-color"
                        value="#0000ff"
                        class="shape-color"
                    /><br />
                </div>
            </div>
            <div id="content">
                <div id="inf1" class="page">
                    <h2>Inflation 1 work area</h2>
                    <canvas width="100" height="100">Pentagons</canvas>
                </div>
                <div id="inf2" class="page">
                    <h2>Inflation 2 work area</h2>
                    <canvas width="1600" height="3100">Second test</canvas>
                </div>
                <div id="gwork" class="page">
                    <h2>Grid-work test area</h2>
                    <canvas width="1600" height="1700">grid</canvas>
                </div>
                <div id="g012" class="page">
                    <h2>Generic test area</h2>
                    <canvas width="1200" height="999">Second test</canvas>
                </div>
                <div id="g3" class="page">
                    <h2>Generic expansion 3</h2>
                    <canvas width="3600" height="5000"> expansion </canvas>
                </div>
                <div id="rwork" class="page">
                    <iframe src="measurements.html" width="100%"
                        >Measurements frame invalid</iframe
                    >
                    <script>
                        // Selecting the iframe element
                        var iframe = document.querySelector("#rwork iframe");
                        var div = document.querySelector("#rWork");

                        // Adjusting the iframe height onload event
                        // todo: fix the iframe problem where we seem to be
                        // using some side effect of the rwork element
                        iframe.onload = function () {
                            iframe.style.height =
                                iframe.contentWindow.document.body
                                    .scrollHeight +
                                50 +
                                "px";
                        };
                    </script>
                </div>
            </div>
        </div>
        <!--

        <script type="module" src="penrose.js"></script>
        <script type="module" src="shape-modes.js"></script>
        <script type="module" src="math.js"></script>
        -->
    </body>
</html>
